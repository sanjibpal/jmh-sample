# jmh-sample
Sample show casing JMH power

To build the application, run the following command.

```
$ ./gradlew clean build
```

If you are using Windows, then run the following command

```
$ gradlew.bat clean build
```

For local development you may run

```
$ java -Djava.security.egd=file:/dev/./urandom -jar product/build/libs/product.jar
```

When you run the full build using `./gradlew clean build` then REST API is generated by swagger.
You can see the documentation running at [http://localhost:9086/product/swagger-ui.html](http://localhost:9086/product/swagger-ui.html).

A sample url returning all products from H2 embedded database

```
http://localhost:9086/jmh-sample/v1/products
```

I have produced the bencmark for the products call using the me.champeau.gradle:jmh-gradle-plugin. The gradle plugin lets us 

You can get the jmh results by executing 

```
$./gradlew clean build :product:jmh --no-daemon
```

The application is made up for 3 modules. The database is embedded with few records in H2. The application module uses the jpa with Hibernate to generate the results.

## Modules

| Module Name      | Application or Library | Description                                      | Port |
| ---------------- | ---------------------- | ------------------------------------------------ | ---- |
| product          | Application            | Provides the Product APIs                        | 9086 |
| jpa-respositories| Library                | jpa repositories                                 | NA   |
| model            | Library                | model used by jpa repositories                   | NA   |